!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){"use strict";function t(e){f.Plugins[e].initialized||(f.Plugins[e].methods._setup.call(document),f.Plugins[e].initialized=!0)}function n(e,t,n,i){var r,s={raw:{}};i=i||{};for(r in i)i.hasOwnProperty(r)&&("classes"===e?(s.raw[i[r]]=t+"-"+i[r],s[i[r]]="."+t+"-"+i[r]):(s.raw[r]=i[r],s[r]=i[r]+"."+t));for(r in n)n.hasOwnProperty(r)&&("classes"===e?(s.raw[r]=n[r].replace(/{ns}/g,t),s[r]=n[r].replace(/{ns}/g,"."+t)):(s.raw[r]=n[r].replace(/.{ns}/g,""),s[r]=n[r].replace(/{ns}/g,t)));return s}function i(){var e,t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"},n=["transition","-webkit-transition"],i={transform:"transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform",webkitTransform:"-webkit-transform"},r="transitionend",s="",a="",o=document.createElement("div");for(e in t)if(t.hasOwnProperty(e)&&e in o.style){r=t[e],f.support.transition=!0;break}m.transitionEnd=r+".{ns}";for(e in n)if(n.hasOwnProperty(e)&&n[e]in o.style){s=n[e];break}f.transition=s;for(e in i)if(i.hasOwnProperty(e)&&i[e]in o.style){f.support.transform=!0,a=i[e];break}f.transform=a}function r(){f.windowWidth=f.$window.width(),f.windowHeight=f.$window.height(),g=c.startTimer(g,w,s)}function s(){for(var e in f.ResizeHandlers)f.ResizeHandlers.hasOwnProperty(e)&&f.ResizeHandlers[e].callback.call(window,f.windowWidth,f.windowHeight)}function a(){if(f.support.raf){f.window.requestAnimationFrame(a);for(var e in f.RAFHandlers)f.RAFHandlers.hasOwnProperty(e)&&f.RAFHandlers[e].callback.call(window)}}function o(e,t){return parseInt(e.priority)-parseInt(t.priority)}var l="undefined"!=typeof window?window:this,u=l.document,d=function(){this.Version="@version",this.Plugins={},this.DontConflict=!1,this.Conflicts={fn:{}},this.ResizeHandlers=[],this.RAFHandlers=[],this.window=l,this.$window=e(l),this.document=u,this.$document=e(u),this.$body=null,this.windowWidth=0,this.windowHeight=0,this.fallbackWidth=1024,this.fallbackHeight=768,this.userAgent=window.navigator.userAgent||window.navigator.vendor||window.opera,this.isFirefox=/Firefox/i.test(this.userAgent),this.isChrome=/Chrome/i.test(this.userAgent),this.isSafari=/Safari/i.test(this.userAgent)&&!this.isChrome,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(this.userAgent),this.isIEMobile=/IEMobile/i.test(this.userAgent),this.isFirefoxMobile=this.isFirefox&&this.isMobile,this.transform=null,this.transition=null,this.support={file:!!(window.File&&window.FileList&&window.FileReader),history:!!(window.history&&window.history.pushState&&window.history.replaceState),matchMedia:!(!window.matchMedia&&!window.msMatchMedia),pointer:!!window.PointerEvent,raf:!(!window.requestAnimationFrame||!window.cancelAnimationFrame),touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),transition:!1,transform:!1}},c={killEvent:function(e,t){try{e.preventDefault(),e.stopPropagation(),t&&e.stopImmediatePropagation()}catch(n){}},startTimer:function(e,t,n,i){return c.clearTimer(e),i?setInterval(n,t):setTimeout(n,t)},clearTimer:function(e,t){e&&(t?clearInterval(e):clearTimeout(e),e=null)},sortAsc:function(e,t){return parseInt(e,10)-parseInt(t,10)},sortDesc:function(e,t){return parseInt(t,10)-parseInt(e,10)},decodeEntities:function(e){var t=f.document.createElement("textarea");return t.innerHTML=e,t.value},parseQueryString:function(e){for(var t={},n=e.slice(e.indexOf("?")+1).split("&"),i=0;i<n.length;i++){var r=n[i].split("=");t[r[0]]=r[1]}return t}},f=new d,p=e.Deferred(),h={base:"{ns}",element:"{ns}-element"},m={namespace:".{ns}",beforeUnload:"beforeunload.{ns}",blur:"blur.{ns}",change:"change.{ns}",click:"click.{ns}",dblClick:"dblclick.{ns}",drag:"drag.{ns}",dragEnd:"dragend.{ns}",dragEnter:"dragenter.{ns}",dragLeave:"dragleave.{ns}",dragOver:"dragover.{ns}",dragStart:"dragstart.{ns}",drop:"drop.{ns}",error:"error.{ns}",focus:"focus.{ns}",focusIn:"focusin.{ns}",focusOut:"focusout.{ns}",input:"input.{ns}",keyDown:"keydown.{ns}",keyPress:"keypress.{ns}",keyUp:"keyup.{ns}",load:"load.{ns}",mouseDown:"mousedown.{ns}",mouseEnter:"mouseenter.{ns}",mouseLeave:"mouseleave.{ns}",mouseMove:"mousemove.{ns}",mouseOut:"mouseout.{ns}",mouseOver:"mouseover.{ns}",mouseUp:"mouseup.{ns}",panStart:"panstart.{ns}",pan:"pan.{ns}",panEnd:"panend.{ns}",resize:"resize.{ns}",scaleStart:"scalestart.{ns}",scaleEnd:"scaleend.{ns}",scale:"scale.{ns}",scroll:"scroll.{ns}",select:"select.{ns}",swipe:"swipe.{ns}",touchCancel:"touchcancel.{ns}",touchEnd:"touchend.{ns}",touchLeave:"touchleave.{ns}",touchMove:"touchmove.{ns}",touchStart:"touchstart.{ns}"};d.prototype.NoConflict=function(){f.DontConflict=!0;for(var t in f.Plugins)f.Plugins.hasOwnProperty(t)&&(e[t]=f.Conflicts[t],e.fn[t]=f.Conflicts.fn[t])},d.prototype.Plugin=function(i,r){return f.Plugins[i]=function(t,i){function r(n){var r,s,o,l="object"===e.type(n),u=this,d=e();for(n=e.extend(!0,{},i.defaults||{},l?n:{}),s=0,o=u.length;o>s;s++)if(r=u.eq(s),!a(r)){var c="__"+i.guid++,f=i.classes.raw.base+c,p=r.data(t+"-options"),h=e.extend(!0,{$el:r,guid:c,rawGuid:f,dotGuid:"."+f},n,"object"===e.type(p)?p:{});r.addClass(i.classes.raw.element).data(w,h),i.methods._construct.apply(r,[h].concat(Array.prototype.slice.call(arguments,l?1:0))),d=d.add(r)}for(s=0,o=d.length;o>s;s++)r=d.eq(s),i.methods._postConstruct.apply(r,[a(r)]);return u}function s(e){i.functions.iterate.apply(this,[i.methods._destruct].concat(Array.prototype.slice.call(arguments,1))),this.removeClass(i.classes.raw.element).removeData(w)}function a(e){return e.data(w)}function l(t){if(this instanceof e){var n=i.methods[t];return"object"!==e.type(t)&&t?n&&0!==t.indexOf("_")?i.functions.iterate.apply(this,[n].concat(Array.prototype.slice.call(arguments,1))):this:r.apply(this,arguments)}}function u(t){var n=i.utilities[t]||i.utilities._initialize||!1;return n?n.apply(window,Array.prototype.slice.call(arguments,"object"===e.type(t)?0:1)):void 0}function d(t){i.defaults=e.extend(!0,i.defaults,t||{})}function p(t){for(var n=this,i=0,r=n.length;r>i;i++){var s=n.eq(i),o=a(s)||{};"undefined"!==e.type(o.$el)&&t.apply(s,[o].concat(Array.prototype.slice.call(arguments,1)))}return n}var g="fs-"+t,w="fs"+t.replace(/(^|\s)([a-z])/g,function(e,t,n){return t+n.toUpperCase()});return i.initialized=!1,i.priority=i.priority||10,i.classes=n("classes",g,h,i.classes),i.events=n("events",t,m,i.events),i.functions=e.extend({getData:a,iterate:p},c,i.functions),i.methods=e.extend(!0,{_setup:e.noop,_construct:e.noop,_postConstruct:e.noop,_destruct:e.noop,_resize:!1,destroy:s},i.methods),i.utilities=e.extend(!0,{_initialize:!1,_delegate:!1,defaults:d},i.utilities),i.widget&&(f.Conflicts.fn[t]=e.fn[t],e.fn[w]=l,f.DontConflict||(e.fn[t]=e.fn[w])),f.Conflicts[t]=e[t],e[w]=i.utilities._delegate||u,f.DontConflict||(e[t]=e[w]),i.namespace=t,i.namespaceClean=w,i.guid=0,i.methods._resize&&(f.ResizeHandlers.push({namespace:t,priority:i.priority,callback:i.methods._resize}),f.ResizeHandlers.sort(o)),i.methods._raf&&(f.RAFHandlers.push({namespace:t,priority:i.priority,callback:i.methods._raf}),f.RAFHandlers.sort(o)),i}(i,r),p.then(function(){t(i)}),f.Plugins[i]};var g=null,w=20;return f.$window.on("resize.fs",r),r(),a(),e(function(){f.$body=e("body"),p.resolve(),f.support.nativeMatchMedia=f.support.matchMedia&&!e("html").hasClass("no-matchmedia")}),m.clickTouchStart=m.click+" "+m.touchStart,i(),window.Fileupload=f,f}),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery,Fileupload)}(function(e,t){"use strict";function n(e){if(t.support.file){var n="";e.label!==!1&&(n+='<div class="'+k.target+'">',n+=e.label,n+="</div>"),n+='<input class="'+k.input+'" type="file"',e.multiple&&(n+=" multiple"),e.accept&&(n+=' accept="'+e.accept+'"'),n+=">",e.baseClasses=[k.base,e.theme,e.customClass].join(" "),this.addClass(e.baseClasses).append(n),e.$input=this.find(C.input),e.queue=[],e.total=0,e.uploading=!1,e.disabled=!0,e.aborting=!1,this.on(P.click,C.target,e,l).on(P.dragEnter,e,f).on(P.dragOver,e,p).on(P.dragLeave,e,h).on(P.drop,e,m),e.$input.on(P.focus,e,u).on(P.blur,e,d).on(P.change,e,c),o.call(this,e)}}function i(e){t.support.file&&(e.$input.off(P.namespace),this.off(P.namespace).removeClass(e.baseClasses).html(""))}function r(t,n){var i;t.aborting=!0;for(var r in t.queue)t.queue.hasOwnProperty(r)&&(i=t.queue[r],("undefined"===e.type(n)||n>=0&&i.index===n)&&(i.started&&!i.complete?i.transfer.abort():s(t,i,"abort")));t.aborting=!1,v(t)}function s(e,t,n){t.error=!0,e.$el.trigger(P.fileError,[t,n]),e.aborting||v(e)}function a(e){e.disabled||(this.addClass(k.disabled),e.$input.prop("disabled",!0),e.disabled=!0)}function o(e){e.disabled&&(this.removeClass(k.disabled),e.$input.prop("disabled",!1),e.disabled=!1)}function l(e){$.killEvent(e);var t=e.data;t.disabled||t.$input.trigger(P.click)}function u(e){e.data.$el.addClass(k.focus)}function d(e){e.data.$el.removeClass(k.focus)}function c(e){$.killEvent(e);var t=e.data,n=t.$input[0].files;!t.disabled&&n.length&&g(t,n)}function f(e){$.killEvent(e);var t=e.data;t.$el.addClass(k.dropping).trigger(P.fileDragEnter)}function p(e){$.killEvent(e);var t=e.data;t.$el.addClass(k.dropping).trigger(P.fileDragOver)}function h(e){$.killEvent(e);var t=e.data;t.$el.removeClass(k.dropping).trigger(P.fileDragLeave)}function m(e){$.killEvent(e);var t=e.data,n=e.originalEvent.dataTransfer.files;t.$el.removeClass(k.dropping),t.disabled||g(t,n)}function g(e,t){for(var n=[],i=0;i<t.length;i++){var r={index:e.total++,file:t[i],name:t[i].name,size:t[i].size,started:!1,complete:!1,error:!1,transfer:null};n.push(r),e.queue.push(r)}e.$el.trigger(P.queued,[n]),e.autoUpload&&w(e),e.$input.val("")}function w(e){e.uploading||(E.on(P.beforeUnload,function(){return e.leave}),e.uploading=!0,e.$el.trigger(P.start,[e.queue])),v(e)}function v(e){var t=0,n=[];for(var i in e.queue)!e.queue.hasOwnProperty(i)||e.queue[i].complete||e.queue[i].error||n.push(e.queue[i]);e.queue=n;for(var r in e.queue)if(e.queue.hasOwnProperty(r)){if(!e.queue[r].started){var s=new FormData;s.append(e.postKey,e.queue[r].file);for(var a in e.postData)e.postData.hasOwnProperty(a)&&s.append(a,e.postData[a]);y(e,s,e.queue[r])}if(t++,t>=e.maxQueue)return;i++}0===t&&(E.off(P.beforeUnload),e.uploading=!1,e.$el.trigger(P.complete))}function y(t,n,i){n=t.beforeSend.call(t.$el,n,i),i.size>=t.maxSize||n===!1||i.error===!0?s(t,i,n?"size":"abort"):(i.started=!0,i.transfer=e.ajax({url:t.action,data:n,dataType:t.dataType,type:"POST",contentType:!1,processData:!1,cache:!1,xhr:function(){var n=e.ajaxSettings.xhr();return n.upload&&n.upload.addEventListener("progress",function(e){var n=0,r=e.loaded||e.position,s=e.total;e.lengthComputable&&(n=Math.ceil(r/s*100)),t.$el.trigger(P.fileProgress,[i,n])},!1),n},beforeSend:function(e,n){t.$el.trigger(P.fileStart,[i])},success:function(e,n,r){i.complete=!0,t.$el.trigger(P.fileComplete,[i,e]),v(t)},error:function(e,n,r){s(t,i,r)}}))}var b=t.Plugin("upload",{widget:!0,defaults:{accept:!1,action:"",autoUpload:!0,beforeSend:function(e){return e},customClass:"",dataType:"html",label:"Drag and drop files or click to select",leave:"You have uploads pending, are you sure you want to leave this page?",maxQueue:2,maxSize:5242880,multiple:!0,postData:{},postKey:"file",theme:"fs-light"},classes:["input","target","multiple","dropping","disabled","focus"],methods:{_construct:n,_destruct:i,disable:a,enable:o,abort:r,start:w}}),C=b.classes,k=C.raw,P=b.events,$=b.functions,E=(t.window,t.$window);P.complete="complete",P.fileComplete="filecomplete",P.fileDragEnter="filedragenter",P.fileDragLeave="filedragleave",P.fileDragOver="filedragover",P.fileError="fileerror",P.fileProgress="fileprogress",P.fileStart="filestart",P.start="start",P.queued="queued"});